# 3. Utiliser des méthodes Python dans des filtres

## 3.1. Utilisation des méthodes Python

En utilisant **Ansible** avec **Jinja2**, vous pouvez directement invoquer des méthodes **Python** sur des variables si ces méthodes sont inhérentes aux types de données de ces variables.

Cela permet une interaction plus naturelle avec les données et peut simplifier certains types de transformations sans nécessiter des filtres spécifiques.

Ce n'est pas une formation sur **Python**, nous n'allons donc pas voir toutes les méthodes de chaque type car cela serait beaucoup trop long : nous vous renvoyons à la formation **Python**.

## 3.2. Exemples d'utilisation de méthodes Python

### Capitalisation d'une chaîne

Supposons que vous ayez une variable qui contient une chaîne de caractères. Vous pouvez utiliser la méthode `.title()` qui renvoie une chaîne dans laquelle le premier caractère de chaque mot est en majuscule :

```YAML
- name: Demonstration of capitalization
  hosts: localhost
  vars:
    full_name: "john doe"
  tasks:
    - ansible.builtin.debug:
        msg: "{{ full_name.title() }}"
```

### Opérations sur les listes

Si vous travaillez avec des listes, vous pouvez appeler des méthodes comme `.append()`, `.extend()`, `.pop()`, etc., directement :

```YAML
- name: List manipulation
  hosts: localhost
  vars:
    my_list: [1, 2, 3]
  tasks:
    - ansible.builtin.debug:
        msg: "{{ my_list.append(4) }}{{ my_list }}"
```

### Opérations sur les dictionnaires

Pour les dictionnaires, vous pouvez utiliser des méthodes comme `.keys()`, `.values()`, et `.items()`.

```YAML
- name: Using Dictionary Methods
  hosts: localhost
  vars:
    my_dict: {'key1': 'value1', 'key2': 'value2'}
  tasks:
    - ansible.builtin.debug:
        msg: "Keys : {{ my_dict.keys() }}, Values : {{ my_dict.values() }}"
```
